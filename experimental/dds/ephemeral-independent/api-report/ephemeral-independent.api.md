## API Report File for "@fluid-experimental/ephemeral-independent"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { DataObjectTypes } from '@fluidframework/aqueduct';
import { IDataObjectProps } from '@fluidframework/aqueduct';
import type { IEvent } from '@fluidframework/core-interfaces';
import type { IEventProvider } from '@fluidframework/core-interfaces';
import { PureDataObject } from '@fluidframework/aqueduct';
import { PureDataObjectFactory } from '@fluidframework/aqueduct';
import { Serializable } from '@fluidframework/datastore-definitions';

// @alpha (undocumented)
export type ClientId = string;

// @alpha (undocumented)
export type EmptyIndependentMap = IndependentMap<{}>;

// @alpha (undocumented)
export class EphemeralIndependentDirectory extends PureDataObject {
    constructor(props: IDataObjectProps);
    // (undocumented)
    static readonly factory: PureDataObjectFactory<EphemeralIndependentDirectory, DataObjectTypes>;
    readonly map: EmptyIndependentMap;
    // (undocumented)
    static readonly Name = "@fluidframework/ephemeral-independent-directory";
}

// @alpha (undocumented)
export class IndependentDatastoreHandle<TKey, TValue extends ValueStateDirectory<any>> {
}

// @alpha (undocumented)
export type IndependentMap<TSchema extends IndependentMapSchema> = IndependentMapKeys<TSchema> & IndependentMapMethods<TSchema>;

// @alpha (undocumented)
export type IndependentMapEntry<TKey extends string, TValue extends ValueStateDirectory<any>, TManager = unknown> = ManagerFactory<TKey, TValue, TManager>;

// @alpha (undocumented)
export type IndependentMapKeys<TSchema extends IndependentMapSchema> = {
    readonly [Key in Exclude<keyof TSchema, keyof IndependentMapMethods<TSchema>>]: ReturnType<TSchema[Key]>["manager"];
};

// @alpha (undocumented)
export interface IndependentMapMethods<TSchema extends IndependentMapSchema> {
    // (undocumented)
    add<TKey extends string, TValue extends ValueStateDirectory<any>, TManager>(key: TKey, manager: ManagerFactory<TKey, TValue, TManager>): asserts this is IndependentMap<TSchema & Record<TKey, ManagerFactory<TKey, TValue, TManager>>>;
}

// @alpha (undocumented)
export interface IndependentMapSchema {
    // (undocumented)
    [Key: string]: IndependentMapEntry<typeof Key, ValueStateDirectory<any>>;
}

// @alpha
export type IndependentValue<T> = T & IndependentValueBrand<T>;

// @alpha
export class IndependentValueBrand<T> {
}

// @alpha (undocumented)
export function Latest<T extends object, Key extends string>(initialValue: Serializable<T> & object): ManagerFactory<Key, ValueState<T>, LatestValueManager<T>>;

// @alpha (undocumented)
export interface LatestValueClientData<T> extends LatestValueData<T> {
    // (undocumented)
    clientId: ClientId;
}

// @alpha (undocumented)
export interface LatestValueData<T> {
    // (undocumented)
    metadata: LatestValueMetadata;
    // (undocumented)
    value: RoundTrippable<T>;
}

// @alpha (undocumented)
export interface LatestValueManager<T> extends IEventProvider<LatestValueManagerEvents<T>> {
    // (undocumented)
    clients(): ClientId[];
    // (undocumented)
    clientValue(clientId: ClientId): LatestValueData<T>;
    // (undocumented)
    clientValues(): IterableIterator<LatestValueClientData<T>>;
    // (undocumented)
    get local(): RoundTrippable<T>;
    set local(value: Serializable<T>);
}

// @alpha (undocumented)
export interface LatestValueManagerEvents<T> extends IEvent {
    // @eventProperty
    (event: "update", listener: (update: LatestValueClientData<T>) => void): void;
}

// @alpha (undocumented)
export interface LatestValueMetadata {
    // (undocumented)
    revision: number;
    // (undocumented)
    timestamp: number;
}

// @alpha
export type ManagerFactory<TKey extends string, TValue extends ValueStateDirectory<any>, TManager> = (key: TKey, datastoreHandle: IndependentDatastoreHandle<TKey, TValue>) => {
    value: TValue;
    manager: IndependentValue<TManager>;
};

// @alpha (undocumented)
export type RoundTrippable<T> = Serializable<T>;

// @alpha (undocumented)
export interface ValueState<TValue> {
    // (undocumented)
    rev: number;
    // (undocumented)
    timestamp: number;
    // (undocumented)
    value: RoundTrippable<TValue>;
}

// @alpha (undocumented)
export type ValueStateDirectory<T> = ValueState<T> | {
    [Subdirectory: string | number]: ValueStateDirectory<T>;
};

// (No @packageDocumentation comment for this package)

```
